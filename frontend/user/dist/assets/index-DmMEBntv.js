import{u as h,l as j,r as a,j as s,e as w,m as g,B as v,L as y,f as N}from"./index-CxNXazyc.js";import{c as k}from"./verificationCode-ByXnRRt0.js";const q="_description_1wmqs_1",E="_container_1wmqs_6",L="_form_1wmqs_12",S="_link_1wmqs_18",b="_footer_1wmqs_24",t={description:q,container:E,form:L,link:S,footer:b};function F(){const l=h(),c=j(),{email:m}=c.state||"",d=/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,[n,o]=a.useState(null),[f,r]=a.useState(!1),[e,p]=a.useState(m),i=d.test(e),u=async x=>{if(x.preventDefault(),o(null),!e.length||!i){o("Невалидный e-mail");return}try{r(!0),await k({email:e}),l("/change-pass-code",{state:{email:e}})}catch(_){N.error("Что-то пошло не так! Проверьте правильность e-mail и попробуйте еще раз.",_)}finally{r(!1)}};return s.jsxs(s.Fragment,{children:[f&&s.jsx(w,{}),s.jsxs("div",{className:t.container,children:[s.jsx("div",{className:t.description}),s.jsxs("form",{onSubmit:u,className:t.form,children:[s.jsx(g,{value:e,setValue:p,label:"Email",placeholder:"Введите текст",type:"email"}),n&&s.jsx("p",{className:"error",children:n}),s.jsx(v,{disabled:!i,type:"primary",children:"Дальше"})]}),s.jsxs("div",{className:t.footer,children:[s.jsx("p",{children:"Нет аккаунта ?"}),s.jsx(y,{className:t.link,to:"/login",children:"Регистрация"})]})]})]})}export{F as default};
